
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" sizes="32x32" href="/site-favicon-32x32.png?v=5">
    <link rel="icon" type="image/png" sizes="16x16" href="/site-favicon-16x16.png?v=5">
    <link rel="apple-touch-icon" sizes="180x180" href="/site-apple-touch-icon.png?v=5">
    <link rel="manifest" href="/site.webmanifest?v=5">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Humanities Last Chance" />
    <title>Humanities Last Chance</title>
    <!-- Lovable script tag -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <!-- Handle GitHub Pages routing -->
    <script>
      // Handle redirects for SPA on GitHub Pages
      (function() {
        // Check if we need to redirect
        const redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        
        // If we have a saved redirect path
        if (redirect && redirect !== location.pathname) {
          history.replaceState(null, null, redirect);
        }
        
        // Check for query param redirects (from 404.html)
        const p = new URLSearchParams(window.location.search).get('p');
        if (p && p !== window.location.pathname) {
          history.replaceState(null, null, p);
          const newUrl = window.location.origin + 
                        window.location.pathname.replace(/\/\?p=.*$/, '') + 
                        p + 
                        window.location.hash;
          window.history.replaceState(null, null, newUrl);
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
